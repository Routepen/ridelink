{"version":3,"sources":["Route.js"],"names":[],"mappings":"AAAA;;;AAGA,IAAI,WAAW,QAAQ,UAAR,CAAf;AACA,IAAI,SAAS,SAAS,MAAtB;;AAEA,IAAI,cAAc,IAAI,MAAJ,CAAW;AACzB,YAAQ,MADiB;AAEzB,iBAAa,MAFY;AAGzB,WAAO,MAHkB;AAIzB,UAAM,MAJmB;AAKzB;AACA,YAAQ;AACJ,cAAK,OAAO,QADR;AAEJ,aAAI;AAFA,KANiB;AAUzB,YAAO,CAAC;AACJ,cAAK,OAAO,QADR;AAEJ,aAAI;AAFA,KAAD,CAVkB;AAczB,mBAAe,EAAC,MAAK,CAAC,MAAD,CAAN,EAAgB,SAAS,IAAzB,EAdU;AAezB,YAAQ,EAAC,MAAK,CAAC,OAAD,CAAN,EAAiB,SAAS,KAA1B,EAfiB;;AAiBzB,gBAAY;AAjBa,CAAX,CAAlB;;AAoBA,YAAY,GAAZ,CAAgB,MAAhB,EAAwB,UAAS,IAAT,EAAe;AACnC;AACA,QAAI,CAAC,KAAK,UAAV,EACI,IAAI,cAAc,IAAI,IAAJ,EAAlB;AACA,SAAK,UAAL,GAAkB,WAAlB;;AAEJ;AACH,CAPD;;AASA,IAAI,QAAQ,SAAS,KAAT,CAAe,QAAf,EAAyB,WAAzB,CAAZ;AACA,OAAO,OAAP,GAAiB,KAAjB;;AAEA","file":"Route-compiled.js","sourcesContent":["/**\r\n * Created by Victor on 2/25/2017.\r\n */\r\nvar mongoose = require('mongoose');\r\nvar Schema = mongoose.Schema;\r\n\r\nvar routeSchema = new Schema({\r\n    origin: String,\r\n    destination: String,\r\n    seats: Number,\r\n    date: Number,\r\n    //date: {type: Date, default: Date.now},\r\n    driver: {\r\n        type:Schema.ObjectId,\r\n        ref:'users'\r\n    },\r\n    riders:[{\r\n        type:Schema.ObjectId,\r\n        ref:'users'\r\n    }],\r\n    inconvenience: {type:[Number], default: 9999},\r\n    bailed: {type:[Boolean], default: false},\r\n    \r\n    created_at: Date\r\n});\r\n\r\nrouteSchema.pre('save', function(next) {\r\n    // if created_at doesn't exist, add to that field\r\n    if (!this.created_at)\r\n        var currentDate = new Date();\r\n        this.created_at = currentDate;\r\n\r\n    next();\r\n});\r\n\r\nvar Route = mongoose.model('routes', routeSchema);\r\nmodule.exports = Route;\r\n\r\n/*\r\n\r\n var newRoute = Route({\r\n origin: \"UCSB\",\r\n destination: \"47520 Avalon Heights Terrace\",\r\n driver: \"58b25a4e4837cb41284df95d\",\r\n riders:[\r\n \"58b25a4e4837cb41284df95d\"\r\n ]\r\n });\r\n\r\n newRoute.save(function(err){\r\n if(err) throw err;\r\n console.log(\"Route created!\");\r\n });\r\n */\r\n"]}