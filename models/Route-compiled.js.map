{"version":3,"sources":["Route.js"],"names":[],"mappings":"AAAA;;;AAGA,IAAI,WAAW,QAAQ,UAAR,CAAf;AACA,IAAI,SAAS,SAAS,MAAtB;;AAEA,IAAI,cAAc,IAAI,MAAJ,CAAW;AACzB,aAAS,EAAC,MAAM,MAAP,EAAe,QAAQ,IAAvB,EADgB;AAEzB,YAAQ,MAFiB;AAGzB,iBAAa,MAHY;AAIzB,gBAAY,EAAC,OAAO,MAAR,EAAgB,OAAO,MAAvB,EAJa;AAKzB,qBAAiB,EAAC,OAAO,MAAR,EAAgB,OAAQ,MAAxB,EALQ;AAMzB,WAAO,MANkB;AAOzB,UAAM,IAPmB;AAQzB,UAAM,MARmB;AASzB,YAAQ;AACJ,cAAK,OAAO,QADR;AAEJ,aAAI;AAFA,KATiB;AAazB,YAAO,CAAC;AACJ,cAAK,OAAO,QADR;AAEJ,aAAI;AAFA,KAAD,CAbkB;AAiBzB,qBAAgB,CAAC;AACb,cAAK,OAAO,QADC;AAEb,aAAI;AAFS,KAAD,CAjBS;AAqBzB,WAAO,CAAC,MAAD,CArBkB;AAsBzB,cAAU,OAAO,KAAP,CAAa,KAtBE;AAuBzB,iBAAa,OAAO,KAAP,CAAa,KAvBD;AAwBzB,mBAAe,EAAC,MAAK,CAAC,MAAD,CAAN,EAAgB,SAAS,IAAzB,EAxBU;AAyBzB,2BAAuB,OAzBE;AA0BzB,YAAQ,EAAC,MAAK,CAAC,OAAD,CAAN,EAAiB,SAAS,KAA1B,EA1BiB;AA2BzB,YAAQ,EAAC,MAAM,OAAP,EAAgB,SAAS,KAAzB,EA3BiB;AA4BzB,kBAAc,OA5BW;AA6BzB,gBAAY,IA7Ba;AA8BzB,cAAU;AA9Be,CAAX,CAAlB;AAgCA;;;;;;;;;;AAUA,IAAI,QAAQ,SAAS,KAAT,CAAe,QAAf,EAAyB,WAAzB,CAAZ;AACA,OAAO,OAAP,GAAiB,KAAjB;;AAEA","file":"Route-compiled.js","sourcesContent":["/**\r\n * Created by Victor on 2/25/2017.\r\n */\r\nvar mongoose = require('mongoose');\r\nvar Schema = mongoose.Schema;\r\n\r\nvar routeSchema = new Schema({\r\n    shortId: {type: String, unique: true},\r\n    origin: String,\r\n    destination: String,\r\n    originCoor: {\"lat\": Number, \"lng\": Number},\r\n    destinationCoor: {\"lat\": Number, \"lng\" : Number},\r\n    seats: Number,\r\n    date: Date,\r\n    time: String,\r\n    driver: {\r\n        type:Schema.ObjectId,\r\n        ref:'users'\r\n    },\r\n    riders:[{\r\n        type:Schema.ObjectId,\r\n        ref:'users'\r\n    }],\r\n    confirmedRiders:[{\r\n        type:Schema.ObjectId,\r\n        ref:'users'\r\n    }],\r\n    stops: [String],\r\n    dropOffs: Schema.Types.Mixed,\r\n    riderStatus: Schema.Types.Mixed,\r\n    inconvenience: {type:[Number], default: 9999},\r\n    requireInitialDeposit: Boolean,\r\n    bailed: {type:[Boolean], default: false},\r\n    opened: {type: Boolean, default: false},\r\n    isWaitlisted: Boolean,\r\n    created_at: Date,\r\n    distance: Number\r\n});\r\n/*\r\nrouteSchema.pre('save', function(next) {\r\n    // if created_at doesn't exist, add to that field\r\n    if (!this.created_at)\r\n        var currentDate = new Date();\r\n        this.created_at = currentDate;\r\n\r\n    next();\r\n});\r\n*/\r\nvar Route = mongoose.model('routes', routeSchema);\r\nmodule.exports = Route;\r\n\r\n/*\r\n\r\n var newRoute = Route({\r\n origin: \"UCSB\",\r\n destination: \"47520 Avalon Heights Terrace\",\r\n driver: \"58b25a4e4837cb41284df95d\",\r\n riders:[\r\n \"58b25a4e4837cb41284df95d\"\r\n ]\r\n });\r\n\r\n newRoute.save(function(err){\r\n if(err) throw err;\r\n console.log(\"Route created!\");\r\n });\r\n */\r\n"]}